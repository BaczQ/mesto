(()=>{"use strict";var e={145:(e,t,n)=>{e.exports=n.p+"files/bora-bora.jpg"},305:(e,t,n)=>{e.exports=n.p+"files/fuer.jpg"},670:(e,t,n)=>{e.exports=n.p+"files/jawa.jpg"},990:(e,t,n)=>{e.exports=n.p+"files/korsika.jpg"},733:(e,t,n)=>{e.exports=n.p+"files/venice.jpg"},873:(e,t,n)=>{e.exports=n.p+"files/zakintos.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e){var n=e.baseUrl,r=e.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._headers=r,this.cohort="",this.name="",this.about="",this.avatar=""}var n,r;return n=t,(r=[{key:"getInitialCards",value:function(){var e=this;return fetch(this._baseUrl+"cards",{method:"GET",headers:this._headers}).then((function(t){return e._getStatus(t)}))}},{key:"getUserData",value:function(){var e=this;return fetch("https://mesto.nomoreparties.co/v1/cohort-38/users/me",{method:"GET",headers:this._headers}).then((function(t){return e._getStatus(t)}))}},{key:"setUserInfo",value:function(e){var t=this;return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t._getStatus(e)}))}},{key:"setUserAvatar",value:function(e){var t=this;return fetch(this._baseUrl+"users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return t._getStatus(e)}))}},{key:"_getStatus",value:function(e){return e.ok?e.json():Promise.reject("Ошибка:"+e.status)}},{key:"sendNewCard",value:function(e){var t,n,r,o=this;return fetch(this._baseUrl+"cards",(t={method:"POST",headers:this._headers,body:JSON.stringify({likes:[],name:e.name,link:e.link,owner:{name:this.name,about:this.about,avatar:this.avatar,_id:this.id,cohort:this.cohort},createdAt:new Date})},n="headers",r=this._headers,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)).then((function(e){return o._getStatus(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch(this._baseUrl+"cards/"+e._id,{method:"DELETE",headers:this._headers}).then((function(e){return t._getStatus(e)}))}},{key:"setLike",value:function(e){var t=this;return fetch(this._baseUrl+"cards/"+e._id+"/likes",{method:"PUT",headers:this._headers}).then((function(e){return t._getStatus(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch(this._baseUrl+"cards/"+e._id+"/likes",{method:"DELETE",headers:this._headers}).then((function(e){return t._getStatus(e)}))}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._container=document.querySelector(n),this._renderer=r}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.reverse().forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),i={inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:".popup__error",inputErrSelector:".popup__input_error"},a=".image-popup",u=document.querySelector(".profile__edit-button"),s=document.querySelector(".profile__add-button"),c=document.querySelector(".profile-popup__button"),l=document.querySelector(".profile-popup__container"),f=(l.querySelector(".profile-popup__form-input_value_job"),document.querySelector(".profile__subtitle"),l.querySelector(".profile-popup__form-input_value_name"),document.querySelectorAll(".popup"),document.querySelector(".place-popup__container")),p=(f.querySelector(".place-popup__form-input_value_name"),f.querySelector(".place-popup__form-input_value_link"),document.querySelector(".image-popup")),h=f.querySelector(".place-popup__button"),_=(p.querySelector(".image-popup__text"),document.querySelector(".elements"),document.querySelector(".confirm-popup__button")),d=document.querySelector(".profile__edit-avatar"),y=document.querySelector(".avatar-popup__button");function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._cardData=t,this._cardLikes=t.likes,this._cardId=t._id,this._cardTitle=t.name,this._cardLink=t.link,this._ownerId=t.owner._id,this._isTrash=t.isTrash,this._id=t._id,this._cardSelector=r.cardSelector,this._handleCardClick=o.handleCardClick,this._setLike=o.setLike,this._deleteLike=o.deleteLike,this._handleTrashClick=o.handleTrashClick,this._deleteCrd=o.deleteCrd,this._imgPopup=document.querySelector(a),this._templateCard=document.querySelector(r.cardSelector).content.querySelector(".element"),this._userId=n}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this._templateCard.cloneNode(!0)}},{key:"cardView",value:function(){return this._element=this._getTemplate(),this._elementImg=this._element.querySelector(".element__img"),this._elementTitle=this._element.querySelector(".element__title"),this._likeBtn=this._element.querySelector(".element__like"),this._elementTitle.textContent=this._cardTitle,this._elementImg.src=this._cardLink,this._elementImg.alt=this._cardTitle,this._likeCounter=this._element.querySelector(".element__likes-count"),this._setListeners(),this.setLikeCounter(this._cardLikes),this.setLikeStatus(this._cardLikes),this._isTrash||this._element.querySelector(".element__trash").remove(),this._element}},{key:"setLikeCounter",value:function(e){this._likeCounter.textContent=e.length}},{key:"setLikeStatus",value:function(e){var t=this;e.forEach((function(e){e._id==t._userId&&t._likeBtn.classList.add("element__like_active")}))}},{key:"deleteCard",value:function(){this._deleteElem(this._element)}},{key:"_deleteElem",value:function(e){e.remove(),e=null}},{key:"_setListeners",value:function(e){this._setImageListener(),this._setLikeBtnListener(),this._setTrashBtnListener(e)}},{key:"_setImageListener",value:function(){var e=this;this._elementImg.addEventListener("click",(function(){return e._handleCardClick(e._cardTitle,e._cardLink)}))}},{key:"_setLikeBtnListener",value:function(){var e=this;this._likeBtn.addEventListener("click",(function(){e._likeClick(e._cardData)}))}},{key:"_setTrashBtnListener",value:function(e){var t=this;this._trashBtn=this._element.querySelector(".element__trash"),this._trashBtn.addEventListener("click",(function(){t._handleTrashClick(t._cardData,t)}))}},{key:"_likeClick",value:function(e){this._likeBtn.classList.contains("element__like_active")?this._deleteLike(e):this._setLike(e),this._likeBtn.classList.toggle("element__like_active")}}])&&v(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t,this._formElement=document.querySelector(n),this._inputList=Array.from(this._formElement.querySelectorAll(t.inputSelector)),this._buttonElement=this._formElement.querySelector(t.submitButtonSelector),this._inactiveButtonClass=t.inactiveButtonClass,this._errorClass=t.errorClass}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){this._noSubmitDefault(),this._setListeners()}},{key:"setError",value:function(){var e=this;this._inputList.forEach((function(t){e._validityState(t)}))}},{key:"clearError",value:function(){var e=this;this._errorList=Array.from(this._formElement.querySelectorAll(this._errorClass)),this._errorList.forEach((function(t){e._removeErrorText(t)})),this._inputList.forEach((function(t){e._removeErrorInputClass(t)}))}},{key:"_noSubmitDefault",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}},{key:"_setListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._validityState(t),e.toggleButtonState(t)}))}))}},{key:"_validityState",value:function(e){this._errorElement=this._formElement.querySelector("#".concat(e.name,"-error")),e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hideInputError",value:function(e){this._removeErrorText(this._errorElement),this._removeErrorInputClass(e)}},{key:"_removeErrorText",value:function(e){e.textContent=" "}},{key:"_removeErrorInputClass",value:function(e){e.classList.remove(this._config.inputErrSelector)}},{key:"_showInputError",value:function(e){this._errorElement.textContent=e.validationMessage,e.classList.add(this._config.inputErrSelector)}},{key:"toggleButtonState",value:function(){var e=this._formElement.checkValidity();this._buttonElement.classList.toggle(this._inactiveButtonClass,!e),this._buttonElement.disabled=!e}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(145),n(670),n(873),n(733),n(305),n(990);var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("click",(function(t){t.target.classList.contains("popup_opened")&&e.close(),t.target.classList.contains("popup__close")&&e.close()}))}},{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_opened")}}])&&g(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=C(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},L.apply(this,arguments)}function C(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function j(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&O(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=P(r);if(o){var n=P(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._popupSubmit=t,n._inputs=n._popup.querySelectorAll(".popup__input"),n._form=n._popup.querySelector(".popup__form"),n}return t=a,(n=[{key:"getInputValues",value:function(){var e=this;return this._inputValues={},this._inputs.forEach((function(t){e._inputValues[t.name]=t.value})),this._inputValues}},{key:"setInputValues",value:function(e){null!=e?this._inputs.forEach((function(t,n){t.value=e[n]})):this._inputs.forEach((function(e){e.value=""}))}},{key:"setEventListeners",value:function(){var e=this;L(P(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(){e._popupSubmit(e.getInputValues())}))}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(S);function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=B(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},x.apply(this,arguments)}function B(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function U(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&R(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(r);if(o){var n=V(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).imgPopupPhotoSrc=document.querySelector(".image-popup__picture"),t.imgPopupPhotoTitle=document.querySelector(".image-popup__text"),t}return t=a,(n=[{key:"open",value:function(e,t){this.imgPopupPhotoSrc.src=e,this.imgPopupPhotoSrc.alt=t,this.imgPopupPhotoTitle.textContent=t,x(V(a.prototype),"open",this).call(this)}}])&&I(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(S);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=J(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},N.apply(this,arguments)}function J(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function z(e,t){return z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},z(e,t)}function G(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return M(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&z(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=F(r);if(o){var n=F(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return G(this,e)});function a(e,t){var n,r=t.popupSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,e))._form=n._popup.querySelector(".popup__form"),n._submitEvtHandler=n._submitEvtHandler.bind(M(n)),n._popupSubmit=r,n}return t=a,(n=[{key:"_submitEvtHandler",value:function(e){e.preventDefault(),this._popupSubmit(this._data),this._form.removeEventListener("submit",this._submitEvtHandler)}},{key:"setEventListeners",value:function(){this._form.addEventListener("submit",this._submitEvtHandler),N(F(a.prototype),"setEventListeners",this).call(this)}},{key:"open",value:function(e){this._data=e,N(F(a.prototype),"open",this).call(this)}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(S);function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(t.name),this._job=document.querySelector(t.about),this._avatar=document.querySelector(t.avatar)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.about,e.avatar&&this.setAvatar(e.avatar),this._id=e._id}},{key:"setAvatar",value:function(e){this._avatar.src=e}}])&&Q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();window.alert=function(){};var X=new W({name:".profile__title",about:".profile__subtitle",avatar:".profile__avatar"}),Y=new t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-38/",headers:{authorization:"89b6cbde-cdfa-45bb-a264-c62f025ccdad","Content-Type":"application/json"}}),Z=null,$=null,ee=new o({renderer:function(e){var t=se(e);ee.addItem(t)}},".elements");Promise.all([Y.getUserData(),Y.getInitialCards()]).then((function(e){for(var t in X.setUserInfo(e[0]),$=e[0]._id,e[1]){var n=e[1][t].owner._id==$;e[1][t].isTrash=n}ee.renderItems(e[1])})).catch((function(e){console.log("Ошибка в работе с Api. ".concat(e,"."))}));var te=new D(a);te.setEventListeners();var ne=new T(".profile-popup",(function(e){X.setUserInfo(e),c.textContent="Сохранение...",Y.setUserInfo({name:e.name,about:e.about}).then((function(){})).catch((function(e){console.log("Ошибка при сохранении профиля на сервере.  ".concat(e,"."))})).finally((function(){c.textContent="Сохранить",ne.close()}))}));ne.setEventListeners();var re=new T(".place-popup",(function(){h.textContent="Сохранение...",Y.sendNewCard({name:re.getInputValues().submitPlace,link:re.getInputValues().submitLink}).then((function(e){var t=se({likes:[],_id:e._id,name:re.getInputValues().submitPlace,link:re.getInputValues().submitLink,isTrash:!0,owner:{id:e.owner._id}});ee.addItem(t)})).catch((function(e){console.log("Ошибка при сохранении карточки на сервере.  ".concat(e,"."))})).finally((function(){re.close(),h.textContent="Создать"}))}));re.setEventListeners();var oe=new T(".avatar-popup",(function(){y.textContent="Сохранение...";var e=oe.getInputValues().avatar;Y.setUserAvatar({avatar:e}).then((function(){X.setAvatar(e)})).catch((function(e){console.log("Ошибка при сохранении аватара на сервере.  ".concat(e,"."))})).finally((function(){y.textContent="Сохранить",oe.close(),ue.toggleButtonState()}))}));oe.setEventListeners(),u.addEventListener("click",(function(){ne.setInputValues(Object.values(X.getUserInfo())),ie.clearError(),ne.open(),ie.toggleButtonState()})),d.addEventListener("click",(function(){ue.clearError(),oe.open(),ue.toggleButtonState()})),s.addEventListener("click",(function(){re.setInputValues(),ae.clearError(),re.open(),ae.toggleButtonState()}));var ie=new k(i,".profile-popup__form"),ae=new k(i,".place-popup__form"),ue=new k(i,".avatar-popup__form");function se(e){return new m(e,X._id,{cardSelector:".template-element"},{handleCardClick:le,setLike:fe,deleteLike:pe,handleTrashClick:he}).cardView()}ie.enableValidation(),ae.enableValidation(),ue.enableValidation();var ce=new K(".confirm-popup",{popupSubmit:function(e){_.textContent="Удаление...",Y.deleteCard(e).then((function(){Z.deleteCard()})).then((function(){ce.close()})).catch((function(e){console.log(e)})).finally((function(){_.textContent="Да"}))}});function le(e,t){te.open(t,e)}function fe(e){var t=this;Y.setLike(e).then((function(e){t.setLikeCounter(e.likes)}))}function pe(e){var t=this;Y.deleteLike(e).then((function(e){t.setLikeCounter(e.likes)})).catch((function(e){console.log("Ошибка удаления карточки. ".concat(e,"."))}))}function he(e,t){Z=t,ce.open(e)}ce.setEventListeners()})()})();